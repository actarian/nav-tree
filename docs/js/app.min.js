!function(){"use strict";angular.module("app",["ngRoute","jsonFormatter"])}(),function(){"use strict";angular.module("app").config(["$httpProvider",function(n){}])}(),function(){"use strict";angular.module("app").config(["$locationProvider",function(n){n.html5Mode(!1),n.hashPrefix("")}])}(),function(){"use strict";angular.module("app").run(["$rootScope",function(n){}])}(),function(){"use strict";var n=angular.module("app");n.directive("navTree",["$parse",function(n){return{restrict:"A",templateUrl:"partials/nav-tree/nav-tree",scope:{items:"=navTree"},link:function(t,e,o,i){function a(n){var t=n.url;return c&&(t=c(n)),t=t||"#"}function r(n,t){n.$nav={parent:t,level:t.$nav.level+1,href:a(n),onNav:f,add:function(t){r(t,n),n.items.push(t)}}}function u(n,t){n&&angular.forEach(n,function(n){r(n,t),u(n.items,n)})}var c=n(o.onLink)(t.$parent),f=n(o.onNav)(t.$parent),s={level:0},l={items:[],$nav:s};t.$watch("items",function(n){n&&(l.items=n,u(l.items,l))}),t.item=l}}}]),n.directive("navTreeItem",["$timeout",function(n){return{restrict:"A",templateUrl:"partials/nav-tree/nav-tree-item",scope:{item:"=navTreeItem"},link:function(t,e,o,i){function a(t,e){var o=t.$nav.state;o.active=!0,n(function(){o.immediate=e,o.closed=o.closing=!1,o.opening=!0,n(function(){o.opening=!1,o.opened=!0})})}function r(t,e){var o=t.$nav.state;o.active=!1,n(function(){o.immediate=e,o.opened=o.opening=!1,o.closing=!0,n(function(){o.closing=!1,o.closed=!0})}),t.items&&angular.forEach(t.items,function(n){r(n,!0)})}function u(n){var t=n.$nav.state;t.active=!n.items||!t.active,t.active?(n.$nav.parent&&angular.forEach(n.$nav.parent.items,function(t){t!==n&&r(t,!0)}),a(n)):r(n)}function c(e){function o(){n(function(){u(i)})}var i=t.item;if(i.$nav.state.active)d=!1,o();else if(i.$nav.onNav){var a=i.$nav.onNav(i);a&&"function"==typeof a.then?(a.then(function(n){o()},function(n){}),d=!1):(d=a,o())}}function f(n){c(n),p.off("mousedown",s)}function s(n){c(n),p.off("touchstart",f)}function l(n){return v(n)}function v(n){if(!1===d)return n.preventDefault(),!1}function m(){p.off("touchstart",f).off("mousedown",s).off("click",l)}var p=angular.element(e[0].querySelector(".nav-link")),$={};t.item.$nav.state=$;var d;!function(){p.on("touchstart",f).on("mousedown",s).on("click",l)}(),t.$on("$destroy",function(){m()})}}}])}(),function(){"use strict";angular.module("app").controller("RootCtrl",["$scope","$q","$http","$timeout",function(n,t,e,o){function i(n){var t=n.url;return t=t?"#"+t:"#",console.log("RootCtrl.onLink",t),t}function a(n){return r(function(t){console.log("RootCtrl.onNavPromise",n,n.$nav.level),o(function(){n.items&&n.$nav.add({title:"Azz"}),t.resolve()})})}function r(n){if("function"!=typeof n)throw"promise resolve callback missing";var e=t.defer();return n(e),e.promise}e.get("https://supahfunk.github.io/rossini/json/menu-rossini.js").then(function(t){n.items=t.data},function(n){console.log("RootCtrl.error",n)}),n.onLink=i,n.onNav=a}])}();
//# sourceMappingURL=app.min.js.map
