!function(){"use strict";angular.module("app",["ngRoute","jsonFormatter"])}(),function(){"use strict";angular.module("app").config(["$httpProvider",function(t){}])}(),function(){"use strict";angular.module("app").config(["$locationProvider",function(t){t.html5Mode(!0),t.hashPrefix("")}])}(),function(){"use strict";angular.module("app").run(["$rootScope",function(t){}])}(),function(){"use strict";var t=angular.module("app");t.controller("RootCtrl",["$scope","$http","$timeout",function(t,n,e){function o(t,n){console.log("RootCtrl.onMenuTapped",t,n)}n.get("https://supahfunk.github.io/rossini/json/menu-rossini.js").then(function(n){t.items=n.data},function(t){console.log("RootCtrl.error",t)}),t.onMenuTapped=o}]),t.directive("tree",["$parse",function(t){return{restrict:"A",templateUrl:"partials/tree",scope:{items:"=tree"},link:function(n,e,o,i){function r(t,n,e){e=e||0,t&&angular.forEach(t,function(t){t.$parent=n,t.$callback=a,t.$level=e,t.years&&(t.years.key=String(t.years.to?t.years.from+"-"+t.years.to:t.years.from),t.url="/years/"+t.years.key),r(t.items,t,e+1)})}var a=t(o.action)(n.$parent);console.log("callback",o.action,a);var c={items:[]};n.$watch("items",function(t){t&&(c.items=t,r(c.items,c))}),n.item=c}}}]),t.directive("treeItem",["$timeout",function(t){return{restrict:"A",templateUrl:"partials/tree/item",scope:{item:"=treeItem"},link:function(n,e,o,i){function r(n,e){var o=n.$state;o.active=!0,t(function(){o.immediate=e,o.closed=o.closing=!1,o.opening=!0,t(function(){o.opening=!1,o.opened=!0})})}function a(n,e){var o=n.$state;o.active=!1,t(function(){o.immediate=e,o.opened=o.opening=!1,o.closing=!0,t(function(){o.closing=!1,o.closed=!0})}),n.items&&angular.forEach(n.items,function(t){a(t,!0)})}function c(t){var n=t.$state;n.active=!n.active,n.active?(t.$parent&&angular.forEach(t.$parent.items,function(n){n!==t&&a(n,!0)}),r(t)):a(t)}function u(e){t(function(){var t=n.item;t.$callback&&t.$callback(t,t.$level),c(t)})}function s(t){return u(),p.off("mousedown",l),f(t)}function l(t){return u(),p.off("touchstart",s),f(t)}function f(t){return t.preventDefault(),!1}function m(){p.off("touchstart",s).off("mousedown",l)}var p=angular.element(e[0].querySelector(".nav-item")),g={};n.item.$state=g,function(){p.on("touchstart",s).on("mousedown",l)}(),n.$on("$destroy",function(){m()})}}}])}();
//# sourceMappingURL=app.min.js.map
